pico-8 cartridge // http://www.pico-8.com
version 34
__lua__
--sprites
--1 - player
--2 - wall
gravity=0.5
player={
 x=0,
 y=0,
 xv=0, --horizontal velocity
 yv=0, --vertical velocity
 speed=1, --walking speed
 jumpheight=5, --jump height
 friction=0.8
}
for x=0,15 do
 for y=0,15 do
  if(mget(x,y)==1)then
   player.x=x*8
   player.y=y*8
   mset(x,y,0)
  end
 end
end
function solid(x,y)
 return mget(x/8,y/8)==2
end
function collidingsolid(x,y)
 return
 solid(x,y)or
 solid(x+7,y)or
 solid(x,y+7)or
 solid(x+7,y+7)
end
function btnf(n)return btn(n)and 1 or 0 end
function _update()
 --velocity
 player.xv+=(btnf(1)-btnf(0))*player.speed
 player.xv*=player.friction
 if(collidingsolid(player.x,player.y+1))then
 	if(btn(4)and not collidingsolid(player.x,player.y-1))then
 		sfx(0)
  	player.yv-=player.jumpheight
 	end
 else
  player.yv+=gravity
 end
 --collisions and movement
 --horizontal
 if(collidingsolid(player.x+player.xv,player.y))then
  while not collidingsolid(player.x+sgn(player.xv),player.y)do
   player.x+=sgn(player.xv)
  end
  player.xv=0
 else
  player.x+=player.xv
 end
 --vertical
 if(collidingsolid(player.x,player.y+player.yv))then
  local falling=player.yv>0
  while not collidingsolid(player.x,player.y+sgn(player.yv))do
   player.y+=sgn(player.yv)
  end
  player.yv=0
  if falling then sfx(1) end
 else
  player.y+=player.yv
 end
end
function _draw()
 cls()
 map(0,0,0,0,16,16)--128/8=16
 spr(1,player.x,player.y)
end
__gfx__
0000000001288210d666666700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000188888811555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000288887821555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000008888e8881555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888881555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000288888821555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000188888811555555600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000012882101111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d6666667d6666667d6666667d6666667d666666700000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d1111111d1111111d1111111d1111111d000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667d6666667d6666667d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d1111111d1111111d1111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d66666670000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d00000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d66666670000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d00000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000d6666667d6666667d6666667d66666670000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000015555556155555561555555615555556000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000001111111d1111111d1111111d1111111d00000000000000001111111d
d66666670000000000000000000000000000128821000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000188888810000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000288887820000000000000000000000000000000000000000000000000000000000000000000000000000015555556
155555560000000000000000000000000008888e8880000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000288888820000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000188888810000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000001288210000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d6666667d6666667d6666667d6666667d6666667d6666667d6666667d666666700000000000000000000000000000000000000000000000000000000d6666667
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
15555556155555561555555615555556155555561555555615555556155555560000000000000000000000000000000000000000000000000000000015555556
1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000d6666667d6666667d6666667d66666670000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000015555556155555561555555615555556000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000001111111d1111111d1111111d1111111d00000000000000000000000000000000000000001111111d
d66666670000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d6666667
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
15555556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000015555556
1111111d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111d
d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667d6666667
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
15555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556155555561555555615555556
1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d1111111d

__map__
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000001000000000200000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000200000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000202020200000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000202020200000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000060400c04013030190301b0202102026010290102b0102d0102e000310003200032000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000100000161002040020500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
